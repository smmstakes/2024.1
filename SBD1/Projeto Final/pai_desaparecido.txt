CREATE TABLE Banca (
    id_banca TEXT,
    nome_banca TEXT,
 -- cpf_dono TEXT,
    regiao TEXT,
    PRIMARY KEY (id_banca) 
);

CREATE TABLE Produto (
    id_produto TEXT,
    nome_produto TEXT,
    fabricante TEXT,
  	preco REAL,
    PRIMARY KEY (id_produto)
);

CREATE TABLE Policial (
    id_policial TEXT,
    nome_policial TEXT,
    patente TEXT,
    regiao_patrulha TEXT,
    PRIMARY KEY (id_policial)
);

CREATE TABLE Civil (
    cpf TEXT,
    nome TEXT,
    idade INTEGER,
    sexo TEXT,
    regiao TEXT,
    PRIMARY KEY (cpf)
);

CREATE TABLE Compra (
    id_compra TEXT,
    cpf_comprador TEXT,
  	nome_estabelecimento TEXT,
    nome_produto TEXT,
    dia_compra TEXT,
  	mes_compra TEXT,
  	ano_compra TEXT,
  	PRIMARY KEY (id_compra),
  	FOREIGN KEY (cpf_comprador) REFERENCES Civil(cpf)
);

CREATE TABLE BancaHasProduto (
    id_banca TEXT,
    id_produto TEXT,
    PRIMARY KEY (id_banca, id_produto),
    FOREIGN KEY (id_banca) REFERENCES Banca(id_banca),
    FOREIGN KEY (id_produto) REFERENCES Produto(id_produto)
);

CREATE TABLE CasoPessoaDesaparecida (
    id_caso TEXT,
    id_policial TEXT,
   cpf_desaparecido TEXT,
    dia_compra TEXT,
  	mes_compra TEXT,
  	ano_compra TEXT,
    ultima_regiao TEXT,
    descricao TEXT,
    PRIMARY KEY (id_caso),
    FOREIGN KEY (id_policial) REFERENCES Policial(id_policial),
    FOREIGN KEY (cpf_desaparecido) REFERENCES Civil(cpf)
);

INSERT INTO Banca (id_banca, nome_banca, regiao) VALUES 
("B1", "Banca do Zé", "Brasília");

INSERT INTO Produto (id_produto, nome_produto, fabricante, preco) VALUES 
("P1", "Pão", "Pãodaria", 1.00);

INSERT INTO Policial (id_policial, nome_policial, patente, regiao_patrulha) VALUES 
("PL1", "João", "Soldado", "Brasília");

INSERT INTO Civil (cpf, nome, idade, sexo, regiao) VALUES 
("XX.001", "Maria", 20, "F", "Brasília");

INSERT INTO Compra (id_compra, cpf_comprador, nome_estabelecimento, nome_produto, dia_compra, mes_compra, ano_compra) VALUES 
("C1", "XX.001", "Banca do Zé", "Pão", "01", "01", "2021");

INSERT INTO BancaHasProduto (id_banca, id_produto) VALUES 
("B1", "P1");

INSERT INTO CasoPessoaDesaparecida (id_caso, id_policial, cpf_desaparecido, dia_compra, mes_compra, ano_compra, ultima_regiao, descricao) VALUES 
("CPD1", "PL1", "XX.001", "01", "01", "2021", "Brasília", "Maria desapareceu após ir comprar pão");
